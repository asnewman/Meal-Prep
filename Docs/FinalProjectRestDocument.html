<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c10{color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;font-size:16pt;font-family:"Times New Roman";font-style:normal}.c23{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Times New Roman";font-style:normal}.c12{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Times New Roman";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Times New Roman";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.08;orphans:2;widows:2;text-align:left}.c8{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c26{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c11{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:center}.c9{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt;font-style:normal}.c6{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c16{text-decoration:none;vertical-align:baseline;font-size:16pt;font-style:normal}.c21{color:#000000;vertical-align:baseline;font-size:11pt;font-style:normal}.c7{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt}.c27{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt}.c22{text-decoration:none;vertical-align:baseline;font-size:11pt}.c17{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c4{font-family:"Times New Roman";font-style:italic;font-weight:700}.c1{font-family:"Times New Roman";font-style:italic;font-weight:400}.c13{color:#000000;font-weight:400;font-family:"Arial"}.c19{font-family:"Times New Roman";font-weight:700;text-decoration:underline}.c20{font-weight:400;font-family:"Arial"}.c3{font-weight:400;font-family:"Times New Roman"}.c24{font-weight:700;font-family:"Times New Roman"}.c14{text-indent:36pt}.c18{height:11pt}.c5{color:#00000a}.c25{height:16pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c17"><div><p class="c2 c18"><span class="c6 c13"></span></p></div><p class="c11 c18 title" id="h.hkb4bns637de"><span class="c12"></span></p><p class="c11 title" id="h.a2ndtceq4g0e"><span class="c12">REST Documentation</span></p><h2 class="c8" id="h.njflg8570wjp"><span class="c10">Error Codes</span></h2><p class="c2"><span class="c1">queryFailed</span><span class="c0">&nbsp;Query failed (server problem)</span></p><p class="c2"><span class="c1">noPermission</span><span class="c0">&nbsp;Login lacks permission.</span></p><p class="c2"><span class="c1">forbiddenField</span><span class="c0">&nbsp;Field not allowed in the body</span></p><p class="c2"><span class="c1">missingField</span><span class="c0">&nbsp;Field missing from the request</span></p><p class="c2"><span class="c1">badValue</span><span class="c0">&nbsp;Field has bad value</span></p><p class="c2"><span class="c1">notFound</span><span class="c0">&nbsp;Entity not found in the database</span></p><p class="c2"><span class="c1">badLogin</span><span class="c0">&nbsp;Email/password combination invalid, for errors logging.</span></p><p class="c2"><span class="c1">dupEmail</span><span class="c0">&nbsp;Email duplicates an existing email</span></p><p class="c2"><span class="c1">noTerms</span><span class="c0">&nbsp;Acceptance of terms is required</span></p><p class="c2"><span class="c1">noOldPwd</span><span class="c0">&nbsp;Change of password requires an old password</span></p><p class="c2"><span class="c1">oldPwdMismatch</span><span class="c0">&nbsp;Old password that was provided is incorrect.</span></p><p class="c2"><span class="c1">dupIngredient </span><span class="c0">Ingredient already exists in the database</span></p><p class="c2"><span class="c1">dupRating </span><span class="c3">Like or dislike has already been given by that user</span></p><h1 class="c26" id="h.w63l3061vo20"><span class="c23">Resource for Recipes</span></h1><h2 class="c8" id="h.iugzal7zh6wp"><span class="c19">Ssns/</span></h2><p class="c2"><span class="c4">POST </span><span class="c6 c3 c5">A successful POST generates a browser-session cookie that will permit continued access for 2 hours. Indicated Person becomes the AU. An unsuccessful POST results in a 400 with a badLogin tag and no further information.</span></p><p class="c15 c14"><span class="c1 c5">email</span><span class="c3 c5 c6">&nbsp;Email of user requesting login</span></p><p class="c15 c14"><span class="c1 c5">password</span><span class="c3 c5">&nbsp;Password of user</span></p><h2 class="c8" id="h.vk6glbcxur1"><span class="c10">Ssns/{cookie}</span></h2><p class="c15"><span class="c3 c5">Login sessions (Ssns) establish an AU and are required for most service access. A user obtains one via POST to Ssns.</span></p><p class="c2"><span class="c4">GET </span><span class="c6 c3 c5">Returns a list of current session</span></p><p class="c15 c14"><span class="c1 c5">prsId</span><span class="c6 c3 c5">&nbsp;ID of Person logged in</span></p><p class="c15 c14"><span class="c1 c5">loginTime</span><span class="c6 c3 c5">&nbsp;Date and time of login</span></p><p class="c2"><span class="c4">DELETE </span><span class="c3 c5">Logout the current Session.</span></p><h2 class="c8" id="h.hpikgyirjsqt"><span class="c19">Prss/</span></h2><p class="c2"><span class="c7 c4">POST</span></p><p class="c2"><span class="c6 c3 c5">Adds a new Person. User must not be logged in.</span></p><p class="c2 c14"><span class="c1 c5">email</span><span class="c6 c3 c5">&nbsp;unique Email for new person</span></p><p class="c2 c14"><span class="c1 c5 c22">firstName</span></p><p class="c2 c14"><span class="c22 c1 c5">lastName</span></p><p class="c2 c14"><span class="c22 c1 c5">Password</span></p><p class="c2 c14"><span class="c1 c5">termsAccepted</span><span class="c6 c3 c5">&nbsp;boolean--were site terms and conditions accepted?</span></p><p class="c2"><span class="c6 c3 c5">Email and lastName required and must be nonempty. Error if email is nonunique. Error if terms were not accepted. Nonempty password required.</span></p><p class="c2 c18"><span class="c6 c3 c5"></span></p><h2 class="c8" id="h.hiuawh6obbg6"><span class="c10">Prss/{id}</span></h2><p class="c2"><span class="c3">Requires AU for all requests. If AU does not match id, forbidden status is returned with empty body</span></p><p class="c2"><span class="c4">GET</span></p><p class="c2"><span class="c3 c5">Returns the person that is logged in. No data for other than the AU is returned in any event</span><span class="c3">. </span><span class="c6 c3 c5">Data per person:</span></p><p class="c2 c14"><span class="c1 c5">email </span><span class="c6 c3 c5">principal string identifier, unique across all Persons</span></p><p class="c2 c14"><span class="c1 c5">_id </span><span class="c6 c3 c5">id of person with said email, so that URI would be Prss/{_id}</span></p><p class="c2 c14"><span class="c22 c1 c5">firstName</span></p><p class="c2 c14"><span class="c1 c5">lastName</span></p><p class="c2"><span class="c7 c4">PUT</span></p><p class="c2"><span class="c3 c5">Updates currently logged in user with body giving an object with one or more of </span><span class="c1 c5">firstName</span><span class="c3 c5">, </span><span class="c1 c5">lastName</span><span class="c3 c5">, </span><span class="c1 c5">password.</span><span class="c3 c5">Attempt to change other fields in Person such as </span><span class="c1 c5">termsAccepted</span><span class="c3 c5">&nbsp;or </span><span class="c1 c5">whenRegistered</span><span class="c3 c5">&nbsp;results in BAD_REQUEST and forbiddenField error(s). An additional field </span><span class="c1 c5">oldPassword</span><span class="c3 c5">&nbsp;is required for changing </span><span class="c1 c5">password</span><span class="c6 c3 c5">. Password, if supplied, must be nonempty.</span></p><p class="c2"><span class="c7 c4">DELETE</span></p><p class="c2"><span class="c3">Deletes the user with specified id. </span></p><h2 class="c8" id="h.4iz0iuposs7t"><span class="c10">Prss/{id}/Ingr</span></h2><p class="c2"><span class="c0">Requires an AU. AU must match id specified in params.</span></p><p class="c2"><span class="c4">GET</span></p><p class="c2"><span class="c0">Returns an array of specified person&rsquo;s available ingredients</span></p><p class="c2 c14"><span class="c7 c1">_id</span></p><p class="c2 c14"><span class="c1">name</span><span class="c3">&nbsp;name of the ingredient</span><span class="c24">&nbsp;</span></p><p class="c2"><span class="c7 c4">POST</span></p><p class="c2"><span class="c0">Adds a new ingredient to the AU&rsquo;s fridge</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">name</span><span class="c0">&nbsp;name of the ingredient (must be unique and not already exist in the fridge)</span></p><h2 class="c8" id="h.c8ec2sp7d474"><span class="c10">Prss/{id}/Ingr/{itemId}</span></h2><p class="c2"><span class="c3">Requires an AU. AU must match id specified in params.</span></p><p class="c2"><span class="c7 c4">DELETE</span></p><p class="c2"><span class="c3">Deletes an ingredient from the id&rsquo;s fridge. AU must match id.</span></p><h2 class="c8" id="h.bu8p9nk28xqw"><span class="c19">Prss/{id}/Mels</span></h2><p class="c2"><span class="c3">Requires an AU. AU must match id specified in params.</span></p><p class="c2"><span class="c7 c4">GET</span></p><p class="c2"><span class="c0">Returns an array of specified person&rsquo;s planned recipes.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_</span><span class="c1">id </span><span class="c0">Id of the planned meal</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">recipeId </span><span class="c0">Recipe id corresponding to the food2fork API</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">date</span><span class="c0">&nbsp;Planned date for the recipe to be created</span></p><p class="c2"><span class="c7 c4">POST</span></p><p class="c2"><span class="c0">Adds a planned recipe.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">recipe </span><span class="c0">Recipe corresponding to the food2fork API recipe object</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">date</span><span class="c0">&nbsp;Planned date for the recipe to be created</span></p><p class="c2 c18"><span class="c0"></span></p><h2 class="c8" id="h.cl47tshgqin6"><span class="c10">Prss/{id}/Mels/{mealId}</span></h2><p class="c2"><span class="c0">Requires an AU. AU must match id specified in params.</span></p><p class="c2"><span class="c7 c4">PUT</span></p><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">recipe </span><span class="c0">Recipe corresponding to the food2fork API recipe object</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">date</span><span class="c0">&nbsp;Planned date for the recipe to be created</span></p><p class="c2"><span class="c0">Edit a planned recipe.</span></p><p class="c2"><span class="c4">DELETE</span></p><p class="c2"><span class="c0">Remove a planned meal. AU must be the owner of that planned meal.</span></p><h2 class="c8" id="h.tkj3mrrhuvq2"><span class="c19">Rat/{ratId}</span></h2><p class="c2"><span class="c4">GET</span></p><p class="c2"><span class="c0">Returns all messages, likes, and dislikes tied to a recipe.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">likes</span><span class="c0">&nbsp;Amount of likes for the recipe</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">dislikes </span><span class="c0">Amount of dislikes for the recipe</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">comment </span><span class="c0">User submitted comments</span></p><h2 class="c8" id="h.ybkzgafjoxot"><span class="c10">Rat/{ratId}/Cmts</span></h2><p class="c2"><span class="c3">Requires AU.</span></p><p class="c2"><span class="c4">POST</span></p><p class="c2"><span class="c0">Adds a comment to specified recipe.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">comment </span><span class="c0">The comment content</span></p><h2 class="c8" id="h.5bxphj1uehs6"><span class="c10">Rat/{ratId}/Lkes?ownerId</span></h2><p class="c2"><span class="c0">Requires AU. If ownerId is specified, only returns likes owned by specific person.</span></p><p class="c2"><span class="c7 c4">GET</span></p><p class="c2"><span class="c3">Get all the likes associated with the ratId.</span></p><p class="c2"><span class="c4">POST</span></p><p class="c2"><span class="c0">Adds a like to specified recipe if AU does not have a like associated already.</span></p><h2 class="c8" id="h.titucrxg1osk"><span class="c10">Rat/{ratId}/Lkes/{lkeId}</span></h2><p class="c2"><span class="c4">DELETE</span></p><p class="c2"><span class="c3">Deletes a like from a specified recipe. AU &nbsp;must own the like or admin.</span></p><h2 class="c8" id="h.jghge72i3kw"><span class="c10">Rat/{ratId}/Dlks?ownerId</span></h2><p class="c2"><span class="c0">Requires AU. If ownerId is specified, only returns dislikes owned by specific person.</span></p><p class="c2"><span class="c7 c4">GET</span></p><p class="c2"><span class="c3">Get all the dislikes associated with the ratId.</span></p><p class="c2"><span class="c4">POST</span></p><p class="c2"><span class="c0">Adds a dislike to specified recipe if AU does not have a dislike associated already.</span></p><h2 class="c8" id="h.fw7g102hvn15"><span class="c10">Rat/{ratId}/Dlks/{dlkId}</span></h2><p class="c2"><span class="c4">DELETE</span></p><p class="c2"><span class="c0">Deletes a like from a specified recipe. AU must own the dislike or admin.</span></p><p class="c2 c18"><span class="c0"></span></p><h2 class="c8" id="h.9jsz4r87l1z2"><span class="c19">Proxy/search?key&amp;q</span></h2><p class="c2"><span class="c7 c4">GET</span></p><p class="c2"><span class="c3">Get all recipes with the ingredients listed in q from Food2Fork. The key parameter is the API key provided by Food2Fork.</span></p><p class="c2 c18"><span class="c0"></span></p><h2 class="c8 c25" id="h.byadatwp9nb"><span class="c10"></span></h2><h2 class="c8" id="h.mpkv0u30gwdf"><span class="c19">Proxy/get?key&amp;rId</span></h2><p class="c2"><span class="c7 c4">GET</span></p><p class="c2"><span class="c3">Get a recipe with a specific rId from Food2Fork API. The key parameter is the API key provided by Food2Fork.</span></p><h2 class="c8" id="h.k6bebapr7cgw"><span class="c19">DB/</span></h2><p class="c2"><span class="c4">DELETE</span></p><p class="c2"><span class="c3">Deletes everything from the database and recreates an admin user with the default settings. This is for testing purposes and requires admin AU.</span></p><div><p class="c2 c18"><span class="c6 c13"></span></p></div></body></html>